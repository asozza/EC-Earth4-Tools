<?xml version="1.0"?>

<file_definition>
  <file_group
    type="one_file"
    format="netcdf4"
    par_access="collective"
    name="output/nemo/{{experiment.id}}_oce"
    split_freq="1y"
  >

    <file
      enabled="true"
      output_freq="1mo"
      name_suffix="_1m_T"
      description="ECE4/NEMO T grid variables"
    >
      <field field_ref="e3t"/>
      <field field_ref="toce" name="thetao"> @toce_e3t / @e3t </field>
      <field field_ref="soce" name="so"> @soce_e3t / @e3t </field>
      <field field_ref="sst" name="tos"/>
      <field field_ref="sss" name="sos"/>
      <field field_ref="ssh" name="zos"/>
      <!-- Deactivate tosstd and zosstd due to problem with ln_mskland=true. See issue #834 on the EC-Earth dev portal.
      <field field_ref="sst" name="tosstd" long_name="sea surface temperature standard deviation" operation="instant" freq_op="5d"> sqrt( @sst2 - @sst * @sst ) </field>
      <field field_ref="ssh" name="zosstd" long_name="sea surface height above geoid standard deviation" operation="instant" freq_op="5d"> sqrt( @ssh2 - @ssh * @ssh ) </field>
      -->
      <field field_ref="sst" name="sstdcy" long_name="amplitude of sst diurnal cycle" operation="average" freq_op="1d"> @sstmax - @sstmin </field>
      <field field_ref="mldkz5"/>
      <field field_ref="mldr10_1"/>
      <field field_ref="mldr10_1" name="mldr10_1dcy" long_name="amplitude of mldr10_1 diurnal cycle" operation="average" freq_op="1d"> @mldr10_1max - @mldr10_1min </field>
      <field field_ref="sbt"/>
      <field field_ref="heatc" name="heatc"/>
      <field field_ref="saltc" name="saltc"/>
      <field field_ref="empmr" name="wfo"/>
      <field field_ref="qsr_oce" name="qsr_oce"/>
      <field field_ref="qns_oce" name="qns_oce"/>
      <field field_ref="qt_oce" name="qt_oce"/>
      <field field_ref="saltflx" name="sfx"/>
      <field field_ref="taum" name="taum"/>
      <field field_ref="wspd" name="windsp"/>
      <field field_ref="precip" name="precip"/>
      <!-- ice and snow -->
      <field field_ref="snowpre"/>
    </file>

    <file
      enabled="true"
      output_freq="1mo"
      name_suffix="_1m_U"
      description="ECE4/NEMO U grid variables"
    >
      <field field_ref="e3u"/>
      <field field_ref="ssu" name="uos"/>
      <field field_ref="uoce" name="uo"> @uoce_e3u / @e3u </field>
      <field field_ref="utau" name="tauuo"/>
      <field field_ref="uocetr_eff" name="uocetr_eff"/>
      <!-- available with diaar5 -->
      <field field_ref="u_masstr" name="vozomatr"/>
      <field field_ref="u_heattr" name="sozohetr"/>
      <field field_ref="u_salttr" name="sozosatr"/>
    </file>

    <file
      enabled="true"
      output_freq="1mo"
      name_suffix="_1m_V"
      description="ECE4/NEMO V grid variables"
    >
      <field field_ref="e3v"/>
      <field field_ref="ssv" name="vos"/>
      <field field_ref="voce" name="vo"> @voce_e3v / @e3v </field>
      <field field_ref="vtau" name="tauvo"/>
      <field field_ref="vocetr_eff" name="vocetr_eff"/>
      <!-- available with diaar5 -->
      <field field_ref="v_masstr" name="vomematr"/>
      <field field_ref="v_heattr" name="somehetr"/>
      <field field_ref="v_salttr" name="somesatr"/>
    </file>

    <file
      enabled="true"
      output_freq="1mo"
      name_suffix="_1m_W"
      description="ECE4/NEMO W grid variables"
    >
      <field field_ref="e3w"/>
      <field field_ref="woce" name="wo"/>
      <field field_ref="avt" name="difvho"/>
      <field field_ref="w_masstr" name="vovematr"/>
      <!-- variables available with ln_zdfiwm =T -->
      <field field_ref="av_wave" name="av_wave"/>
      <field field_ref="bn2" name="bn2"/>
      <field field_ref="bflx_iwm" name="bflx_iwm"/>
      <field field_ref="pcmap_iwm" name="pcmap_iwm"/>
      <field field_ref="emix_iwm" name="emix_iwm"/>
      <field field_ref="av_ratio" name="av_ratio"/>
    </file>

    <file
      enabled="true"
      output_freq="1mo"
      name_suffix="_1m_scalar"
      description="ECE4/NEMO scalar variables"
    >
      <!-- global drifts (conservation checks) -->
      <field field_ref="bgtemper" name="bgtemper"/>
      <field field_ref="bgsaline" name="bgsaline"/>
      <field field_ref="bgheatco" name="bgheatco"/>
      <field field_ref="bgheatfx" name="bgheatfx"/>
      <field field_ref="bgsaltco" name="bgsaltco"/>
      <field field_ref="bgvolssh" name="bgvolssh"/>
      <field field_ref="bgvole3t" name="bgvole3t"/>
      <!-- global surface forcings  -->
      <field field_ref="bgfrcvol" name="bgfrcvol"/>
      <field field_ref="bgfrctem" name="bgfrctem"/>
      <field field_ref="bgfrchfx" name="bgfrchfx"/>
      <field field_ref="bgfrcsal" name="bgfrcsal"/>
      <field field_ref="masstot" name="masso"/>
      <field field_ref="voltot" name="volo"/>
      <field field_ref="sshthster" name="zostoga"/>
      <field field_ref="temptot" name="bigthetaoga"/>
      <field field_ref="saltot" name="soga"/>
      <field field_ref="ssttot" name="tosga"/>
    </file>

    <file
      enabled="true"
      output_freq="1mo"
      name_suffix="_1m_diaptr2d"
      description="ECE4/NEMO zonal mean variables"
    >
      <field field_ref="sophtove" name="htovovrt" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sopstove" name="sltovovrt" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sophtgyre" name="htovgyre" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sopstgyre" name="sltogyre" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sophtbtr" name="htbtr" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sopstbtr" name="sltbtr" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sophtadv" name="htadv" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sopstadv" name="sltadv" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sophtldf" name="htldf" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sopstldf" name="sltldf" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sophtvtr" name="hfbasin" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sopstvtr" name="sltbasin" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sophteiv" name="hfbasinpmadv" grid_ref="grid_ptr_T_2D"/>
      <field field_ref="sopsteiv" name="sltbasinpmadv" grid_ref="grid_ptr_T_2D"/>
    </file>

    <file
      enabled="true"
      output_freq="1mo"
      name_suffix="_1m_diaptr3d"
      description="ECE4/NEMO zonal mean variables"
    >
      <field field_ref="zomsf" name="msftyz" grid_ref="grid_ptr_W_3D"/>
      <field field_ref="zotem" name="znltem" grid_ref="grid_ptr_T_3D"/>
      <field field_ref="zosal" name="znlsal" grid_ref="grid_ptr_T_3D"/>
      <field field_ref="zosrf" name="znlsrf" grid_ref="grid_ptr_T_3D"/>
    </file>

  </file_group>
</file_definition>
